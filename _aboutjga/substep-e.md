---
layout: indexed_content
title: JGA submission steps
pathname: substep-e
category: aboutjga
---

<div id="page" class="top">

<div id="header" class="clearfix">

<div id="header-top">

[![](/images/parts/ddbj-logo-white.svg)](/index-e.html "DNA Data Bank of Japan")

<div id="header-top-left">

<span class="resources-btn">Services**</span>

</div>

<div id="header-top-right">

  - [Login & Submit](https://ddbj.nig.ac.jp/D-way)
  - [Policies and Disclaimers](/policies-e.html)
  - [Contact](/contact-e.html)
  - [Japanese](/jga/substep.html)

</div>

</div>

<div class="resources-contents">

<div class="boxContainer">

<div class="resources-box">

  - ### ![](/images/logos/service-org.svg)Search

  - [getentry](http://getentry.ddbj.nig.ac.jp/top-e.html "Retrieve sequence records by accession numbers")

  - [ARSA](http://ddbj.nig.ac.jp/arsa/ "Retrieve sequence and annotation by keywords")

  - [DRA
    Search](http://ddbj.nig.ac.jp/DRASearch "Search and retrieve sequencing data.")

  - [TXSearch](http://ddbj.nig.ac.jp/tx_search/?lang=en "Search unified taxonomy database")

  - [BLAST](http://blast.ddbj.nig.ac.jp/blastn?lang=en "Search nucleotide sequences by sequence similarity")

<!-- end list -->

  - ### ![](/images/logos/wrench.svg)Analysis

  - [Vector Screening
    System](http://ddbj.nig.ac.jp/vecscreen/ "Screen vector sequences")

  - [ClustalW](http://clustalw.ddbj.nig.ac.jp/index.php?lang=en "Multiple alignment and tree-making")

  - [WABI (Web API for
    Biology)](/search/help/wabi/wabi-e.html "Web API for using the search services of DDB")

  - [DDBJ FTP
    Site](ftp://ftp.ddbj.nig.ac.jp/ "Download public data by ftp")

</div>

<div class="resources-box">

  - ### ![](/images/logos/database-org.svg)Databases

  - [Annotated/Assembled Sequences
    (DDBJ)](/ddbj/index-e.html "Annotated/Assembled Sequences (DDBJ)")

  - [Sequence Read Archive
    (DRA)](/dra/index-e.html "Sequence Read Archive")

  - [Genomic Expression Archive
    (GEA)](/gea/index-e.html "Genomic Expression Archive")

  - [BioProject](/bioproject/index-e.html "BioProject")

  - [BioSample](/biosample/index-e.html "BioSample")

  - [Japanese Genotype-phenotype Archive
    (JGA)](/jga/index-e.html "Japanese Genotype-phenotype Archive")

  - [Submission portal
    D-way](https://ddbj.nig.ac.jp/D-way "Submission portal D-way")

<!-- end list -->

  - ### ![](/images/logos/sc-org.svg)NIG SuperComputer

  - [NIG
    SuperComputer](https://sc.ddbj.nig.ac.jp/en "NIG SuperComputer")

</div>

<div class="resources-box dbcls">

  - ### ![](/images/logos/dbcls-s.svg)DBCLS Services

  - [AOE](http://aoe.dbcls.jp/en "Statistics and trends of gene expression data")

  - [CRISPRdirect](https://crispr.dbcls.jp/ "Designing CRISPR/Cas9 guide RNA with reduced off-target sites")

  - [DBCLS
    SRA](http://sra.dbcls.jp/ "Statistics and trends of SRA data")

  - [Gendoo](http://gendoo.dbcls.jp/ "Functional profiling of gene and disease features for omics analysis")

  - [GGGenome](https://gggenome.dbcls.jp/en/ "A ultrafast sequence search")

  - [GGRNA](https://ggrna.dbcls.jp/en/ "A Google-like, ultrafast search engine for genes and transcripts")

  - [RefEx](http://refex.dbcls.jp/index.php?lang=en "A web tool for a comfortable search of reference data for gene expression analysis")

</div>

</div>

</div>

<div id="header-middle" class="clearfix">

<div class="page-title">

[Japanese Genotype-phenotype Archive](/jga/index-e.html)

</div>

<div class="search-box">

<div id="search-box-flex">

<div class="search-options-wrapper">

BI-DDBJ Web Sites Annotated/Assembled Sequences Sequence Read Archive

</div>

</div>

</div>

</div>

<div id="header-bottom">

  - [Home](/jga/index-e.html)
  - [Studies](https://ddbj.nig.ac.jp/jga/viewer/view/studies)
  - [Submission![](/images/parts/arrow_down.svg)](/jga/submission-e.html)
      - [How to submit](/jga/substep-e.html)
      - [Example
        submission](https://docs.google.com/spreadsheets/d/1HHlxItj89fQv2oWUNBIHZ4VVGwbcC09WGD5tEiXAQZ4/edit#gid=744299318)
      - [How to download](/jga/download-e.html)
      - [XML
        Schema](https://github.com/ddbj/pub/tree/master/docs/jga/xsd/)
  - [FAQ](/jga/faq-e.html)

</div>

</div>

<div id="main" class="clearfix">

<div id="breadcrumb" class="clearfix">

  - [HOME](/jga/index-e.html "Japanese Genotype-phenotype Archive top page")
  - \>
  - Submission steps

</div>

<div id="primary">

<div id="page_main">

<div id="book">

# JGA submission steps

<div class="section book">

<div class="section chapter">

## JGA overview

The [DNA Data Bank of Japan (DDBJ) Center](../) operates the Japanese
Genotype-phenotype Archive (JGA) for human genotype and phenotype data
in collaboration with [National Bioscience Database Center
(NBDC)](http://humandbs.biosciencedbc.jp/en/).

<div class="attention no_top">

  - JGA is a controlled-access database and is different from the other
    INSDC unrestricted-access databases.
  - Submission account system of the JGA is separated from the
    [D-way](https://ddbj.nig.ac.jp/D-way/) account system for the other
    DDBJ Center's unrestricted-access databases.
  - To submit data to the JGA, an approval from
    [NBDC](https://humandbs.biosciencedbc.jp/en/data-submission) is
    necessary.
  - Login details for the JGA submission account are notified from
    [NBDC](http://humandbs.biosciencedbc.jp/en).

</div>

This page explains how to submit data to the JGA.  
For JGA overview, see [this slide (Japanese
only)](https://drive.google.com/file/d/12IaBZHub6s9fNK55S0r6x0U7MD2oQsk_).

</div>

<div class="section chapter">

## Create metadata by using excel

<div class="section section">

### Enter metadata into the excel

Download and fill in the metadata in English. For the JGA metadata, see
[this page](/jga/submission-e.html).

[![JGA metadata excel](/images/parts/download.png
"JGA metadata excel")]({{ site.baseurl }}/assets/files/submission/JGA_metadata.xlsx)

last updated: 2017-08-18

<div class="attention no_top">

The excel file name must end with "\_metadata.xlsx". Before the
"\_metadata", Submission ID and NBDC hum number can be freely added.

</div>

<div class="attention no_top">

Do NOT include any white spaces in the names of files to be uploaded to
JGA.

</div>

<div class="attention no_top">

When possible, concatenate the multiple data files in the Data/Analysis
object to reduce the number of files per object for smoother download.

</div>

</div>

<div class="section section">

### Example metadata excel

[Example metadata
excel](https://docs.google.com/spreadsheets/d/1HHlxItj89fQv2oWUNBIHZ4VVGwbcC09WGD5tEiXAQZ4/edit#gid=744299318).

</div>

<div class="section section">

### JGA submission tool

Download the latest JGA submission tool (last updated:
2018-04-16，v3.5.0) and run the tool by executing JGATool.bat.

<div class="attention no_top">

Execute in the Java 8. In the Java 7, the tool does not work. [How to
use in the proxy envinronment.](#How_to_use_in_the_proxy_environment)

</div>

#### Windows

[JGA submission tool (Windows)]({{ site.baseurl }}/assets/files/submission/3-5-0/JGA_tool.zip)

Execute the tool by double clicking the bat file in the expanded files.

<span class="attention_text">Java Runtime Environment Version 8 Update
45 and newer are required.</span>

#### Unix

[JGA submission tool (Unix)]({{ site.baseurl }}/assets/files/submission/3-5-0/JGA_tool_unix.zip)

Excecute the sh file by shell in the expanded files.

<span class="attention_text">Java SE Development Kit 8u45 and newer are
required. Does not work in the OpenJDK.</span>

</div>

<div class="section section">

### Upload the excel

Execute the JGA tool and login it by using the login ID and password
sent from [NBDC](http://humandbs.biosciencedbc.jp/).

![Login the JGA tool](/images/submission/jgasub1.jpg
"Login the JGA tool")

The left window is your local computer and the right one is secure JGA
server.

In the Submission ID of the right window, select the JGA submission id
(for example, example-0003) in the pulldown menu. In the left window,
select the metadata excel (for example,
JGA\_example-0003\_metadata.xlsx) and click the "Encrypt & Upload".

![Select the submission and metadata
excel.](/images/submission/jgasub2.jpg
"Select the submission and metadata excel.")

The excel file is uploaded to the JGA server securely. Ignore the error
messages in the bottom window.

After uploading the excel, contact the [JGA team](/contact-e.html).

![Uploaded excel file](/images/submission/jgasub3.jpg
"Uploaded excel file")

<div class="attention no_top">

Do NOT send the metadata excel by e-mail.

</div>

</div>

<div class="section section">

### Download Excel/XML files

Users can download the excel with filename ended with "\_metadata.xlsx"
and XML files by using the tool.

Right-click the excel (for example,
JGA\_example-0003\_r1\_metadata.xlsx) and select Download from the menu.
Then the selected excel file is downloaded to your computer.

![Download excel](/images/submission/jgadown1.jpg "Download excel")

Right-click the XML file (for example, example-0003\_Data.xml) and
select the "Download" in the menu. Users can download the XML files
one-by-one to your computer.

![Download XML](/images/submission/jgadown2.jpg "Download XML")

</div>

</div>

</div>

<div class="section chapter">

## Upload data files

<div class="section section">

### Data file format

In the JGA submission system, file and archive, compression formats are
judged by the file extensions.

<div class="sub_index">

  - The extensions, zip, tar, tar.gz, tgz, tar.bz2, tbz2, gz, bz2 are
    treated as the standard archive and compression formats. The other
    files with other archive and compression formats cause errors.
  - Do not compress the bam file.
  - Do not tar archive the compressed files by gz or bzip, instead,
    tar.gz the un-compressed files.

</div>

</div>

<div class="section section">

### File formats for submission

Register the individual-level next-generation sequencing (NGS) fastq and
bam files to the Data object and the microarray, variation,
questionnaire files (non-NGS data) to the Analysis object.

It is important that the processed data on which the conclusions in the
related manuscript are based, are registered in the Analysis object.

</div>

<div class="section section">

### metadata XML file

Select the downloaded XML and data files and upload them to the target
submission by using the tool.

![Uplaod the metadata XML and data files](/images/submission/jgasub4.jpg
"Uplaod the metadata XML and data files")

</div>

<div class="section section">

### Validation of submitted files

Submitted metadata and data files are validated and the data files are
uploaded in the encrypted form.

<div class="sub_index">

  - The metadata XML files are validated against [JGA XML
    schema](https://github.com/ddbj/pub/tree/master/docs/jga).
  - [The relationships between each metadata
    object](/jga/submission-e.html#metadata)
  - Existence of the files listed in the Data and Analysis XML
  - Checksum validation before and after uploading.
    [MD5](/dra/submission-e.html#supplement-md5)

</div>

If the all validation steps succeed, "\[INFO\] upload succeeded" is
displayed in the bottom window. The [JGA
accessions](/jga/submission-e.html#accession) will be issued after
reviewing.

When an error message is shown, contact [the JGA team](/contact-e.html).

![Validated metadata XML and data files](/images/submission/jgasub5.jpg
"Validated metadata XML and data files")

</div>

<div class="section section">

### How to select files

Users can select multile files in the left window.

#### Range selection

Select the stating filename and then select the ending filename with
pressing Shift, the files in the range are selected. Right click the
"check (selected item)" and check the selected files.

![Range select the files](/images/submission/jga_range_select.jpg
"Range select the files")

#### How to select distinct files

Select the distinct files by pressing the Control, then select the
"check (selected item)" and check the selected files.

![Check the selected files](/images/submission/jga_multi_select.jpg
"Check the selected files")

#### Select sub-directory

All files in the directory are selected by clicking the folder checkbox.

![Check the sub-directory](/images/submission/jga_dir_select.jpg
"Check the sub-directory")

</div>

<div class="section section">

### How to use in the proxy environment

To use the tool in the proxy environment, users need to configure the
file.

Edit the "proxy.properties" in the tool folder and enter the proxy name
(server=) and port number (port=).

``` code
# Enter the server name and port number of the proxy server 
  to connect the JGA server via the proxy.
# For example:
# server=proxy.example.ac.jp
# port=8080
server=
port=
```

When the proxy server require the authentication, enter the credentials
in the window after logging in the tool.

The v3.2.0 can handle the BASIC authentification but can not handle the
Digest one.

</div>

</div>

<div class="section chapter">

## Send the data files in hard disk

When uploading files by the JGA tool takes too long time, for uploading
large number and size of files, we accept the files in the hard disk
drives.

Disk format should be NTFS, ext3 or ext4.  
Check the entire disk by anti-virus checker.

<div class="section section">

### Encrypt data files

Encrypt the data files by using the JGA data encryption tool and copy
them into the hard disk. Upload the XML files by using the JGA
submission tool and do not include them in the disk.

[![JGA data encryption tool](/images/parts/download.png
"JGA data encryption tool")]({{ site.baseurl }}/assets/files/submission/jga-data-encrypt.tar.gz)

last updated: 2015-12-09

<div class="attention">

Encrypt the file one-by-one. Do NOT encrypt tar archived files or
directory.

</div>

Operating envinronment

<div class="sub_index">

  - The disk space as large as the total size of the target files is
    necessary.
  - Confirmed in CentOS 6.4
  - Java Runtime Environment Version 8 Update 45 newer is neccesary.

</div>

Expand the "jga-data-encrypt.tar.gz" by tar command. Following
directories are expanded. Do NOT change the directory structure.

jga-data-encrypt.sh (shell script) jar/ -\> directory for execution
files (do NOT change this directory)

Move to the tool directory and execute the command.  
sh jga-data-encrypt.sh\[space\]-t\[target files\]\[space\]-o\[output
directory path\]  
example)

``` code
$ sh jga-data-encrypt.sh -t target.fastq -o output
```

Command options

\-t --target  
Sepecify the path to target files.  
The tool can encrypt one file. Multiple files by wild card cannot be
specified.  
Use shell script to encrypt multiple files.

\-o --output  
Path to the directory to output encrypted files, encryption key and the
MD5 file.  
When the directory is not found, the directory is automatically
created.  

Output files

In the output directory, the following 3 files are generated per 1
target file.

1\. encrypted file (.encrypt)  
The encrypted filename is \[filename before encryption\].encrypt (for
example, file1.fastq will be file1.fastq.encrypt)

2\. key file (.encrypt.dat)  
The key file used for encryption. One key file is generated per one
target file. The key file is encrypted by the public key. The filename
is \[encrypted target file name\].dat. (for example, file1.fastq will be
file1.fastq.encrypt.dat)

MD5 file before and after encryption(.md5)  
The file recording the MD5 checksum values before and after encryption.
One MD5 file is generated per one target file. The filename is
\[unencrypted filename\].md5. (for example, file1.fastq will be
file1.fastq.md5)

Output messages

The tool's messages are recorded in the log file (\[server
hostname\].jga-data-encrypt.log in the tool directory) and shown on the
standard screen. Normal messages are as follows.

``` code
$ sh jgacmd.sh -t /home/hoge/file.txt -o /tmp/output
START encrypt file ←start processing
start encryption : /home/hoge/file.txt ←target filename
encryption complete : /tmp/output /file.txt.encrypt ←output filename
FINISH encrypt file ←processing finished
```

Error messages

<div class="main_table format">

| Message                                                | Meaning                                                                |
| ------------------------------------------------------ | ---------------------------------------------------------------------- |
| \[code 11\] encryption error : \<target\>              | An error occurred during encryption process.                           |
| \[code 12\] make md5 file error : \<target\>           | An error occurred during obtaining the md5 or writing md5 to the file. |
| \[code 13\] output dir is not a directory : \<target\> | \-o soecified path id not a directory.                                 |
| \[code 14\] target is not a file : \<target\>          | \-t path id not a file.                                                |

</div>

</div>

<div class="section section">

### Sending files

For the JGA submission, three files "encrypted data files", "key file"
and "md5 file" are neccesary. Copy them to the hard disk.

Do NOT copy the metadata in the disk, instead, upload the metadata by
using the JGA Submission Tool.

Copy the data to the USB hard disk and send the disk to the address
below. <span class="attention_text">Include the cash on delibery slip
for rerurn filled with the return address</span>.
<span class="attention_text">We recommend to label the disk.</span>

Kodama Yuichi  
1111 Yata, Mishima, Shizuoka 411-8540, Japan  
Phone:+81-55-981-6853

</div>

</div>

</div>

</div>

</div>

<div id="side_navigation">

<div class="side_nav_menu handbook_contents handbook substep">

<div id="in_this_page">

## In this page

</div>

</div>

<div class="side_nav_menu">

## Apply data access/submission

<div id="links">

  - <span id="nbdc">[![](/images/parts/nbdc_logo.png)National Bioscience
    Database
    Center](https://humandbs.biosciencedbc.jp/en/ "National Bioscience Database Center")</span>

</div>

</div>

</div>

</div>

<div id="footer_original" class="clearfix">

  - [Policies and
    Disclaimers](/policies-e.html "Policies and Disclaimers")
  - [News](/news/en/index-e.html "News archives")
  - [FAQs](/faq/en/index-e.html "Frequently asked questions")
  - [Sitemap](/sitemap-e.html "Sitemap")
  - [Calendar](/calendar-e.html "DDBJ Center Calendar")
  - [Address](/access-e.html "DDBJ Center address")
  - [Contact](/contact-e.html "Contact to DDBJ Center")
  - Last modified: 2018-12-18

</div>

</div>
